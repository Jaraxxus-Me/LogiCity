checkpoints=(
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_2/transfer_modular_nlm_random_0.5_2_epoch16_valacc0.2975.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_2/transfer_modular_nlm_random_0.5_2_epoch18_valacc0.2913.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_2/transfer_modular_nlm_random_0.5_2_epoch15_valacc0.2761.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_1/transfer_modular_nlm_random_0.1_1_epoch4_valacc0.3950.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_1/transfer_modular_nlm_random_0.1_1_epoch3_valacc0.3900.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_1/transfer_modular_nlm_random_0.1_1_epoch5_valacc0.3026.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_1/transfer_modular_nlm_random_0.8_1_epoch4_valacc0.3056.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_1/transfer_modular_nlm_random_0.8_1_epoch25_valacc0.3010.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_1/transfer_modular_nlm_random_0.8_1_epoch26_valacc0.2961.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_0/transfer_modular_nlm_random_0.8_0_epoch28_valacc0.3084.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_0/transfer_modular_nlm_random_0.8_0_epoch26_valacc0.3019.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_0/transfer_modular_nlm_random_0.8_0_epoch29_valacc0.2980.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_0/transfer_modular_nlm_random_0.01_0_epoch26_valacc0.3538.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_0/transfer_modular_nlm_random_0.01_0_epoch27_valacc0.3269.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_0/transfer_modular_nlm_random_0.01_0_epoch21_valacc0.3019.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_2/transfer_modular_nlm_random_1.0_2_epoch26_valacc0.2872.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_2/transfer_modular_nlm_random_1.0_2_epoch24_valacc0.2867.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_2/transfer_modular_nlm_random_1.0_2_epoch27_valacc0.2804.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_0/transfer_modular_nlm_random_0.2_0_epoch1_valacc0.3102.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_0/transfer_modular_nlm_random_0.2_0_epoch0_valacc0.2809.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_0/transfer_modular_nlm_random_0.2_0_epoch5_valacc0.2782.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_1/transfer_modular_nlm_random_0.5_1_epoch27_valacc0.2868.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_1/transfer_modular_nlm_random_0.5_1_epoch26_valacc0.2840.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_1/transfer_modular_nlm_random_0.5_1_epoch22_valacc0.2817.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_1/transfer_modular_nlm_random_1.0_1_epoch21_valacc0.2786.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_1/transfer_modular_nlm_random_1.0_1_epoch9_valacc0.2745.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_1/transfer_modular_nlm_random_1.0_1_epoch25_valacc0.2744.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_2/transfer_modular_nlm_random_0.01_2_epoch25_valacc0.3732.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_2/transfer_modular_nlm_random_0.01_2_epoch27_valacc0.3216.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_2/transfer_modular_nlm_random_0.01_2_epoch24_valacc0.2772.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_0/transfer_modular_nlm_random_1.0_0_epoch27_valacc0.3018.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_0/transfer_modular_nlm_random_1.0_0_epoch29_valacc0.2953.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_1.0_0/transfer_modular_nlm_random_1.0_0_epoch24_valacc0.2932.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_2/transfer_modular_nlm_random_0.8_2_epoch27_valacc0.2994.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_2/transfer_modular_nlm_random_0.8_2_epoch28_valacc0.2893.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.8_2/transfer_modular_nlm_random_0.8_2_epoch12_valacc0.2891.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_0/transfer_modular_nlm_random_0.05_0_epoch19_valacc0.3784.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_0/transfer_modular_nlm_random_0.05_0_epoch14_valacc0.2951.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_0/transfer_modular_nlm_random_0.05_0_epoch12_valacc0.2929.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_1/transfer_modular_nlm_random_0.2_1_epoch3_valacc0.3298.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_1/transfer_modular_nlm_random_0.2_1_epoch2_valacc0.2918.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_1/transfer_modular_nlm_random_0.2_1_epoch1_valacc0.2709.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_1/transfer_modular_nlm_random_0.01_1_epoch26_valacc0.4632.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_1/transfer_modular_nlm_random_0.01_1_epoch28_valacc0.4616.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.01_1/transfer_modular_nlm_random_0.01_1_epoch27_valacc0.4289.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_0/transfer_modular_nlm_random_0.5_0_epoch27_valacc0.2974.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_0/transfer_modular_nlm_random_0.5_0_epoch23_valacc0.2963.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.5_0/transfer_modular_nlm_random_0.5_0_epoch21_valacc0.2957.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_0/transfer_modular_nlm_random_0.1_0_epoch1_valacc0.3188.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_0/transfer_modular_nlm_random_0.1_0_epoch7_valacc0.2920.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_0/transfer_modular_nlm_random_0.1_0_epoch3_valacc0.2736.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_1/transfer_modular_nlm_random_0.05_1_epoch14_valacc0.4234.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_1/transfer_modular_nlm_random_0.05_1_epoch10_valacc0.3679.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_1/transfer_modular_nlm_random_0.05_1_epoch11_valacc0.3659.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_2/transfer_modular_nlm_random_0.05_2_epoch6_valacc0.3925.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_2/transfer_modular_nlm_random_0.05_2_epoch12_valacc0.3634.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.05_2/transfer_modular_nlm_random_0.05_2_epoch17_valacc0.3238.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_2/transfer_modular_nlm_random_0.1_2_epoch3_valacc0.3993.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_2/transfer_modular_nlm_random_0.1_2_epoch2_valacc0.3330.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.1_2/transfer_modular_nlm_random_0.1_2_epoch8_valacc0.2684.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_2/transfer_modular_nlm_random_0.2_2_epoch3_valacc0.3040.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_2/transfer_modular_nlm_random_0.2_2_epoch2_valacc0.2896.pth"
    "vis_input_weights/hard/transfer_modular_nlm_random_0.2_2/transfer_modular_nlm_random_0.2_2_epoch0_valacc0.2824.pth"
)
    # Loop over each checkpoint file
    for ckpt in "${checkpoints[@]}"
    do
        exp_name=$(basename "$ckpt" | cut -d'_' -f1-9)  # This extracts the part of the filename without extension
        python3 tools/test_vis_input_mod.py             --config config/tasks/Vis/ResNetNLM/hard_200_fixed_modular.yaml             --ckpt "$ckpt"             --exp "$exp_name"             >> "log_vis/${exp_name}_transfer_test.log"
    done
    