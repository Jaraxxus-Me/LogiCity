checkpoints=(
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.8/transfer2_e2e_gnn_fixed_0.8_epoch18_valacc0.3146.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.8/transfer2_e2e_gnn_fixed_0.8_epoch11_valacc0.3114.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.8/transfer2_e2e_gnn_fixed_0.8_epoch6_valacc0.3109.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.2/transfer2_e2e_gnn_fixed_0.2_epoch8_valacc0.2621.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.2/transfer2_e2e_gnn_fixed_0.2_epoch26_valacc0.2526.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.2/transfer2_e2e_gnn_fixed_0.2_epoch4_valacc0.2518.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.1/transfer2_e2e_gnn_fixed_0.1_epoch14_valacc0.2312.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.1/transfer2_e2e_gnn_fixed_0.1_epoch1_valacc0.2309.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.1/transfer2_e2e_gnn_fixed_0.1_epoch2_valacc0.2292.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.05/transfer2_e2e_gnn_fixed_0.05_epoch26_valacc0.2523.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.05/transfer2_e2e_gnn_fixed_0.05_epoch2_valacc0.2474.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.05/transfer2_e2e_gnn_fixed_0.05_epoch3_valacc0.2341.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_1.0/transfer2_e2e_gnn_fixed_1.0_epoch5_valacc0.2869.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_1.0/transfer2_e2e_gnn_fixed_1.0_epoch7_valacc0.2640.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_1.0/transfer2_e2e_gnn_fixed_1.0_epoch6_valacc0.2619.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.5/transfer2_e2e_gnn_fixed_0.5_epoch24_valacc0.2766.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.5/transfer2_e2e_gnn_fixed_0.5_epoch21_valacc0.2434.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.5/transfer2_e2e_gnn_fixed_0.5_epoch26_valacc0.2373.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.01/transfer2_e2e_gnn_fixed_0.01_epoch23_valacc0.2563.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.01/transfer2_e2e_gnn_fixed_0.01_epoch24_valacc0.2445.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_fixed_0.01/transfer2_e2e_gnn_fixed_0.01_epoch20_valacc0.2247.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.05/transfer2_e2e_gnn_random_0.05_epoch15_valacc0.5228.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.05/transfer2_e2e_gnn_random_0.05_epoch19_valacc0.4822.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.05/transfer2_e2e_gnn_random_0.05_epoch13_valacc0.4561.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.1/transfer2_e2e_gnn_random_0.1_epoch22_valacc0.4550.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.1/transfer2_e2e_gnn_random_0.1_epoch6_valacc0.4457.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.1/transfer2_e2e_gnn_random_0.1_epoch3_valacc0.4254.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_1.0/transfer2_e2e_gnn_random_1.0_epoch7_valacc0.4475.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_1.0/transfer2_e2e_gnn_random_1.0_epoch3_valacc0.4340.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_1.0/transfer2_e2e_gnn_random_1.0_epoch6_valacc0.4056.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.5/transfer2_e2e_gnn_random_0.5_epoch5_valacc0.4173.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.5/transfer2_e2e_gnn_random_0.5_epoch15_valacc0.4099.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.5/transfer2_e2e_gnn_random_0.5_epoch11_valacc0.3967.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.2/transfer2_e2e_gnn_random_0.2_epoch10_valacc0.4578.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.2/transfer2_e2e_gnn_random_0.2_epoch22_valacc0.4123.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.2/transfer2_e2e_gnn_random_0.2_epoch13_valacc0.4099.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.01/transfer2_e2e_gnn_random_0.01_epoch25_valacc0.3504.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.01/transfer2_e2e_gnn_random_0.01_epoch28_valacc0.3464.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.01/transfer2_e2e_gnn_random_0.01_epoch21_valacc0.3367.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.8/transfer2_e2e_gnn_random_0.8_epoch17_valacc0.4262.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.8/transfer2_e2e_gnn_random_0.8_epoch21_valacc0.4219.pth"
    "vis_input_weights/hard/transfer2_e2e_gnn_random_0.8/transfer2_e2e_gnn_random_0.8_epoch27_valacc0.4210.pth"
)
# Loop over each checkpoint file
for ckpt in "${checkpoints[@]}"
do
    exp_name=$(basename "$ckpt" | cut -d'_' -f1-9)  # This extracts the part of the filename without extension
    python3 tools/test_vis_input_e2e.py         --config config/tasks/Vis/ResNetGNN/hard_200_fixed_e2e.yaml         --ckpt "$ckpt"         --exp "$exp_name"         >> "log_vis/${exp_name}_transfer_test.log"
done
